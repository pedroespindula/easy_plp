#!/usr/bin/swipl

:- use_module(downloader).
:- use_module(config).
:- use_module(runner).

:- initialization(main).

operacao(1) :-
    writeln('Digite o caminho para o arquivo a ser testado:'),
    read(NomeArquivoTeste),
    writeln('Digite o caminho para o arquivo de teste:'),
    read(NomeArquivoCsv),
    term_to_atom(NomeArquivoTeste, AtomTest),
    term_to_atom(NomeArquivoCsv, AtomCsv),
    runner(AtomTest, AtomCsv).

operacao(2) :-
    writeln('Digite o nome do arquivo:'),
    read(NomeArquivo),
    downloader(NomeArquivo).

operacao(3) :-
    writeln('Digite o path para o diretorio que você quer guardar os arquivos:'),
    read(Diretorio),
    config(Diretorio).

    
operacao(_) :- 
    writeln('Operação invalida!').

header :- 
    writeln('EASY_PLP').

instructions :- 
    writeln('Selecione uma opção: '),
    writeln('[1] Rodar arquivo'),
    writeln('[2] Baixar exercicio'),
    writeln('[3] Configurar').

main :-
    header(),
    instructions(),
    read(Entrada),
    operacao(Entrada),
    halt.
